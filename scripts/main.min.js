/**
 * soundOmath
 * Playing Sound App
 * Compiled: Mon Feb 01 2016 19:01:34 GMT+0100 (CET)
 * @version v0.2.1
 * @link https://github.com/mgje
 * @copyright MIT
 */
!function t(n,e,r){function a(i,u){if(!e[i]){if(!n[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var f=e[i]={exports:{}};n[i][0].call(f.exports,function(t){var e=n[i][1][t];return a(e?e:t)},f,f.exports,t,n,e,r)}return e[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t,n,e){"use strict";$(document).ready(function(){var t=function(t){var n=q.selectAll("g").data(t),e=n.selectAll("rect").data(function(t){return t}).attr("fill",function(t,n){return D[t[1]]});e.enter().append("rect").attr("x",function(t,n){return 28*n}).attr("width",F).attr("height",O),e.exit().remove()},n=function(t){var n=q.selectAll("g").data(t).enter().append("g").attr("transform",function(t,n){return"translate(0, "+54*n+")"});n.selectAll("rect").data(function(t){return t}).enter().append("rect").attr("x",function(t,n){return 28*n}).attr("fill",function(t,n){return D[t[1]]}).attr("width",F).attr("height",O),n.selectAll("line").data(function(t){return t}).enter().append("line").filter(function(t,n){return n%10===0}).attr("x1",function(t,n){return 280*n+1}).attr("y1",20).attr("x2",function(t,n){return 280*n+1}).attr("y2",40).style("stroke","black").style("stroke-width","2px"),n.selectAll("text").data(function(t){return t}).enter().append("text").filter(function(t,n){return n%10===0}).attr("x",function(t,n){return 280*n+5}).attr("y","38").attr("font-family","sans-serif").text(function(t,n,e){return 40*e+10*n+1})},e=function(){return["#btn-row1-1","#btn-row1-2","#btn-row1-3","#btn-row1-4"]},r=function(){var t=e(),n=[];for(var r in t){var a=$(t[r]).parent().parent().children("input")[0].value;n.push(a)}return n},a=function(t){for(var n=[],e=0;e<t.length;e++)n.push(parseInt(t[e]));for(var r=1,a=[],o=void 0,i=void 0,u=0,e=0;e<n.length&&(o=e,i=n[o],!(i>0));e++);for(var c=0;E>c;c+=1){var l=[];a.push(l);for(var e=0;M>e;e+=1){if(r===i){for(u=o+1;n[(o+1)%n.length]<1;)o=(o+1)%n.length;i+=n[(o+1)%n.length],o=(o+1)%n.length}else u=0;l.push([r,u]),r+=1}}return a},o=function(t,n,e){$(t).attr("fill",G[n]),setTimeout(function(){$(t).attr("fill",D[n])},1e3*e)},i=function(){var n=e();for(var o in n)$(n[o]).parent().parent().children("input.form-control").change(function(){var n=a(r());t(n)})},u=function(){var t=e(),n=jQuery.Event("change"),r=function(e){$(t[e]).parent().children("ul.dropdown-menu").on("click",function(r){$(t[e]).parent().parent().children("input.form-control").attr("value",r.target.text).trigger(n)})};for(var a in t)r(a)},c=function(){$("#playmusicbtn").on("click",function(t){p=!0,k()})},l=function(){$("#stopmusicbtn").on("click",function(t){p=!1})};$("#paraOszbtn").on("click",function(t){var n=$("input[name=speed]:checked","#parameterModal").val(),e=$("input[name=oszform]:checked","#parameterModal").val();y=e,h=parseFloat(n),$("#parameterModal").modal("hide")});var f=function(t,n,e,r){var a=t+e,o=d.createGain();o.gain.value=r,o.connect(d.destination);var i=d.createGain();i.connect(o),i.gain.value=0,i.gain.setTargetAtTime(1,t,A[0]),i.gain.setTargetAtTime(0,a,A[1]);var u=d.createOscillator();u.connect(i),u.type=y,u.detune.value=100*n,u.frequency.value=240;var c=d.createGain();c.gain.value=m,c.connect(u.detune);var l=d.createOscillator();l.connect(c),l.frequency.value=w,u.start(t),l.start(t),u.stop(a+2),l.stop(a+2)},s=function B(){if(!p||0===v.length)return void console.log("stop");for(var t=d.currentTime;v.length>0&&v[0][0]<t+.15;){var n=v.splice(0,1);f(n[0][0],x[n[0][1]][0],n[0][2],x[n[0][1]][2]),o(n[0][3],n[0][1],n[0][2])}setTimeout(B,90)},p=!0,v=[],d=null;d="webkitAudioContext"in window?new webkitAudioContext:new AudioContext;var h=.5,g=.3,m=.3,A=[.01,.1],w=6,x=[[-10,.5,.1],[3,.5,.9],[10,.5,.9],[15,.5,.9],[0,.5,.9]],y="sawtooth",k=function(){var t=d3.selectAll("rect").data(),n=d3.selectAll("rect")[0],e=d.currentTime;v=[];for(var r=0;r<t.length;r++){var a=t[r][1],o=[];o.push(r*h+e),o.push(a),o.push(g),o.push(n[r]),v.push(o)}s()},b=1230,C=225,T=d3.select("#chart"),q=T.append("svg").attr("width",b).attr("height",C),F=20,O=20,E=4,M=40,D=["#454545","#296EAA","#D43F3A","#5CB85C","#46B0CF"],G=["#000000","#094E8A","#A41F1A","#3C983C","#2690AF"];D.length;u(),i();var z=a(r());n(z),c(),l()})},{}]},{},[1]);