(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

// import TweenMax from 'TweenMax'
// import View from './views/view'

// const g = 9.81;

// Register Listeners

$(document).ready(function () {

	// Random Data
	// let data = [];
	// for (let k = 0; k < rowN; k += 1) {
	// 	let row = [];
	// 	data.push(row);
	// 	for (let i = 0; i < colN; i +=1){
	// 		row.push([i, Math.trunc(Math.random()*rrange)])
	// 	}
	// }

	// Row calculation
	var initDataSet = function initDataSet() {
		var data = [];
		var t = 1;
		for (var k = 0; k < rowN; k += 1) {
			var row = [];
			data.push(row);
			for (var i = 0; i < colN; i += 1) {
				row.push([t, 0]);
				t = t + 1;
			}
		}
		return data;
	};

	var updateGraph = function updateGraph(data) {

		var grp = svg.selectAll('g').data(data);

		var selection = grp.selectAll('rect').data(function (d) {
			return d;
		}).attr('fill', function (d, i) {
			return lookup[d[1]];
		});

		selection.enter().append('rect').attr('x', function (d, i) {
			return 28 * i;
		}).attr('width', rw).attr('height', rh);
		selection.exit().remove();
	};

	var renderGraph = function renderGraph(data) {
		// Create a group for each row in the data matrix and
		// translate the group vertically
		var grp = svg.selectAll('g').data(data).enter().append('g').attr('transform', function (d, i) {
			return 'translate(5, ' + 54 * i + ')';
		});

		// For each group, create a set of rectangles and bind
		// them to the inner array (the inner array is already
		// binded to the group)
		grp.selectAll('rect').data(function (d) {
			return d;
		}).enter().append('rect').attr('x', function (d, i) {
			return 28 * i;
		}).attr('fill', function (d, i) {
			return lookup[d[1]];
		}).attr('width', rw).attr('height', rh);

		alert('wait');

		//Modulo 10 ticks       
		grp.selectAll('line').data(function (d) {
			return d;
		}).enter().append('line').filter(function (d, i) {
			return i % 10 === 0;
		}).attr('x1', function (d, i) {
			return 280 * i + 1;
		}).attr('y1', 20).attr('x2', function (d, i) {
			return 280 * i + 1;
		}).attr('y2', 40).style('stroke', 'black').style('stroke-width', '2px');

		// Text
		grp.selectAll('text').data(function (d) {
			return d;
		}).enter().append('text').filter(function (d, i) {
			return i % 10 === 0;
		}).attr('x', function (d, i) {
			return 280 * i + 5;
		}).attr('y', '38').attr('font-family', 'sans-serif').text(function (d, i, k) {
			return k * 40 + i * 10 + 1;
		});
	};

	// get values

	var getButtonIds = function getButtonIds() {
		return ['#btn-row1-1', '#btn-row1-2', '#btn-row1-3', '#btn-row1-4'];
	};

	var readInput = function readInput() {
		var ids = getButtonIds();
		var out = [];
		for (var i in ids) {
			var val = $(ids[i]).parent().parent().children('input')[0].value;
			out.push(val);
		}
		return out;
	};

	// Redraw Game

	var redraw = function redraw(inpstrarr) {
		var inp = [];
		// parse input
		for (var i = 0; i < inpstrarr.length; i++) {
			inp.push(parseInt(inpstrarr[i]));
		};

		// init values
		var t = 1,
		    // cout value
		col = 0,
		    // current color offset
		data = [],
		    nextEvent = inp[col],
		    tmp = 0;

		for (var k = 0; k < rowN; k += 1) {
			var row = [];
			data.push(row);
			for (var i = 0; i < colN; i += 1) {
				if (t === nextEvent) {
					// jump over 0 color entries
					while (inp[(col + 1) % inp.length] < 1) {
						col = (col + 1) % inp.length;
					}
					nextEvent += inp[(col + 1) % inp.length];
					tmp = col + 1; // black has index 0
					col = (col + 1) % inp.length; // next color
				} else {
						tmp = 0;
					}
				row.push([t, tmp]);
				t = t + 1;
			}
		}
		return data;
	};

	var registerInputOnChange = function registerInputOnChange() {
		var ids = getButtonIds();
		for (var i in ids) {
			$(ids[i]).parent().parent().children('input.form-control').change(function () {
				var newdata = redraw(readInput());
				updateGraph(newdata);
			});
		}
	};

	// Listen on Menu entry
	var idArr = getButtonIds();
	var ec = jQuery.Event('change');

	var _loop = function _loop(i) {
		$(idArr[i]).parent().children('ul.dropdown-menu').on('click', function (e) {
			$(idArr[i]).parent().parent().children('input.form-control').attr('value', e.target.text)
			//send change event
			.trigger(ec);
		});
	};

	for (var i in idArr) {
		_loop(i);
	}

	// Init Display   
	// Draw so stuff
	// Global stuff
	var width = 1230,
	    height = 400,
	    div = d3.select('#chart'),
	    svg = div.append('svg').attr('width', width).attr('height', height),
	    rw = 20,
	    rh = 20,
	    rowN = 4,
	    colN = 40,
	    lookup = ['black', '#296EAA', '#D43F3A', '#5CB85C', '#46B0CF'],
	    rrange = lookup.length;
	//data = initDataSet();
	//renderGraph(data);

	// React on Changes of the input fields

	registerInputOnChange();
	var mydata = redraw(readInput());
	renderGraph(mydata);
	alert("wart mal");
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0FDT0EsRUFBRSxRQUFGLEVBQVksS0FBWixDQUFrQixZQUFVOzs7Ozs7Ozs7Ozs7O0FBZTVCLEtBQUksY0FBYyxTQUFkLFdBQWMsR0FBSztBQUN0QixNQUFJLE9BQU8sRUFBUCxDQURrQjtBQUV0QixNQUFJLElBQUksQ0FBSixDQUZrQjtBQUd0QixPQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxJQUFKLEVBQVUsS0FBSyxDQUFMLEVBQVE7QUFDakMsT0FBSSxNQUFNLEVBQU4sQ0FENkI7QUFFakMsUUFBSyxJQUFMLENBQVUsR0FBVixFQUZpQztBQUdqQyxRQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxJQUFKLEVBQVUsS0FBSSxDQUFKLEVBQU07QUFDL0IsUUFBSSxJQUFKLENBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFULEVBRCtCO0FBRS9CLFFBQUksSUFBSSxDQUFKLENBRjJCO0lBQWhDO0dBSEQ7QUFRQSxTQUFPLElBQVAsQ0FYc0I7RUFBTCxDQWZVOztBQThCNUIsS0FBSSxjQUFjLFNBQWQsV0FBYyxDQUFDLElBQUQsRUFBUzs7QUFHMUIsTUFBSSxNQUFNLElBQUksU0FBSixDQUFjLEdBQWQsRUFDTCxJQURLLENBQ0EsSUFEQSxDQUFOLENBSHNCOztBQU0xQixNQUFJLFlBQVksSUFBSSxTQUFKLENBQWMsTUFBZCxFQUFzQixJQUF0QixDQUEyQixVQUFDLENBQUQ7VUFBTztHQUFQLENBQTNCLENBQ2QsSUFEYyxDQUNULE1BRFMsRUFDRCxVQUFDLENBQUQsRUFBRyxDQUFIO1VBQVMsT0FBTyxFQUFFLENBQUYsQ0FBUDtHQUFULENBRFgsQ0FOc0I7O0FBUzFCLFlBQVUsS0FBVixHQUNFLE1BREYsQ0FDUyxNQURULEVBRUssSUFGTCxDQUVVLEdBRlYsRUFFZSxV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QU5ULEVBRG1CO0dBQVAsQ0FIWDtHQTVLdUI7O0FBMkt4QixNQUFLLElBQUksQ0FBSixJQUFTLEtBQWQsRUFBcUI7UUFBWixHQUFZO0VBQXJCOzs7OztBQTNLd0IsS0E4THZCLFFBQVEsSUFBUjtLQUNELFNBQVMsR0FBVDtLQUNBLE1BQU0sR0FBRyxNQUFILENBQVUsUUFBVixDQUFOO0tBQ0EsTUFBTSxJQUFJLE1BQUosQ0FBVyxLQUFYLEVBQ0QsSUFEQyxDQUNJLE9BREosRUFDYSxLQURiLEVBRUQsSUFGQyxDQUVJLFFBRkosRUFFYyxNQUZkLENBQU47S0FHQSxLQUFLLEVBQUw7S0FDQSxLQUFLLEVBQUw7S0FDQSxPQUFPLENBQVA7S0FDQSxPQUFNLEVBQU47S0FDQSxTQUFTLENBQUMsT0FBRCxFQUFTLFNBQVQsRUFBbUIsU0FBbkIsRUFBNkIsU0FBN0IsRUFBdUMsU0FBdkMsQ0FBVDtLQUNBLFNBQVMsT0FBTyxNQUFQOzs7Ozs7QUF6TWUsc0JBK001QixHQS9NNEI7QUFnTjVCLEtBQUksU0FBUyxPQUFPLFdBQVAsQ0FBVCxDQWhOd0I7QUFpTjVCLGFBQVksTUFBWixFQWpONEI7QUFrTjVCLE9BQU0sVUFBTixFQWxONEI7Q0FBVixDQUFsQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBpbXBvcnQgVHdlZW5NYXggZnJvbSAnVHdlZW5NYXgnXG4vLyBpbXBvcnQgVmlldyBmcm9tICcuL3ZpZXdzL3ZpZXcnXG5cbi8vIGNvbnN0IGcgPSA5LjgxO1xuXG4vLyBSZWdpc3RlciBMaXN0ZW5lcnNcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuXG5cbi8vIFJhbmRvbSBEYXRhXG5cdC8vIGxldCBkYXRhID0gW107XG5cdC8vIGZvciAobGV0IGsgPSAwOyBrIDwgcm93TjsgayArPSAxKSB7XG5cdC8vIFx0bGV0IHJvdyA9IFtdO1xuXHQvLyBcdGRhdGEucHVzaChyb3cpO1xuXHQvLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgY29sTjsgaSArPTEpe1xuXHQvLyBcdFx0cm93LnB1c2goW2ksIE1hdGgudHJ1bmMoTWF0aC5yYW5kb20oKSpycmFuZ2UpXSlcblx0Ly8gXHR9XG5cdC8vIH1cblxuLy8gUm93IGNhbGN1bGF0aW9uXG5sZXQgaW5pdERhdGFTZXQgPSAoKSA9Pntcblx0bGV0IGRhdGEgPSBbXTtcblx0bGV0IHQgPSAxO1xuXHRmb3IgKGxldCBrID0gMDsgayA8IHJvd047IGsgKz0gMSkge1xuXHRcdGxldCByb3cgPSBbXTtcblx0XHRkYXRhLnB1c2gocm93KTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNvbE47IGkgKz0xKXtcblx0XHRcdHJvdy5wdXNoKFt0LCAwXSk7XG5cdFx0XHR0ID0gdCArIDE7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkYXRhO1xufTtcblxuXG5sZXQgdXBkYXRlR3JhcGggPSAoZGF0YSkgPT57XG5cblxuXHRsZXQgZ3JwID0gc3ZnLnNlbGVjdEFsbCgnZycpXG5cdCAgICAuZGF0YShkYXRhKTtcblxuXHRsZXQgc2VsZWN0aW9uID0gZ3JwLnNlbGVjdEFsbCgncmVjdCcpLmRhdGEoKGQpID0+IGQpXG5cdFx0LmF0dHIoJ2ZpbGwnLCAoZCxpKSA9PiBsb29rdXBbZFsxXV0pO1xuXG5cdHNlbGVjdGlvbi5lbnRlcigpXG5cdFx0LmFwcGVuZCgncmVjdCcpXG5cdCAgICAuYXR0cigneCcsIChkLCBpKSA9PiAgMjggKiBpKVxuXHQgICAgLmF0dHIoJ3dpZHRoJywgcncpXG5cdCAgICAuYXR0cignaGVpZ2h0JywgcmgpO1xuXHRzZWxlY3Rpb24uZXhpdCgpLnJlbW92ZSgpOyAgICBcbn07XG5cblxubGV0IHJlbmRlckdyYXBoID0gKGRhdGEpID0+IHtcblx0Ly8gQ3JlYXRlIGEgZ3JvdXAgZm9yIGVhY2ggcm93IGluIHRoZSBkYXRhIG1hdHJpeCBhbmRcblx0Ly8gdHJhbnNsYXRlIHRoZSBncm91cCB2ZXJ0aWNhbGx5XG5cdGxldCBncnAgPSBzdmcuc2VsZWN0QWxsKCdnJylcblx0ICAgIC5kYXRhKGRhdGEpXG5cdCAgICAuZW50ZXIoKVxuXHQgICAgLmFwcGVuZCgnZycpXG5cdCAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCwgaSkge1xuXHQgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDUsICcgKyA1NCAqIGkgKyAnKSc7XG5cdCAgICB9KTtcblxuXHQvLyBGb3IgZWFjaCBncm91cCwgY3JlYXRlIGEgc2V0IG9mIHJlY3RhbmdsZXMgYW5kIGJpbmQgXG5cdC8vIHRoZW0gdG8gdGhlIGlubmVyIGFycmF5ICh0aGUgaW5uZXIgYXJyYXkgaXMgYWxyZWFkeVxuXHQvLyBiaW5kZWQgdG8gdGhlIGdyb3VwKVxuXHRncnAuc2VsZWN0QWxsKCdyZWN0Jylcblx0ICAgIC5kYXRhKChkKSA9PiBkKVxuXHQgICAgLmVudGVyKClcblx0ICAgIC5hcHBlbmQoJ3JlY3QnKVxuXHQgICAgICAgIC5hdHRyKCd4JywgKGQsIGkpID0+ICAyOCAqIGkpXG5cdCAgICAgICAgLmF0dHIoJ2ZpbGwnLCAoZCxpKSA9PiBsb29rdXBbZFsxXV0pXG5cdCAgICAgICAgLmF0dHIoJ3dpZHRoJywgcncpXG5cdCAgICAgICAgLmF0dHIoJ2hlaWdodCcsIHJoKTtcblxuXHRhbGVydCgnd2FpdCcpOyAgICAgICAgXG5cblx0Ly9Nb2R1bG8gMTAgdGlja3MgICAgICAgIFxuXHRncnAuc2VsZWN0QWxsKCdsaW5lJylcblx0ICAgIC5kYXRhKCAoZCkgPT4gZClcblx0ICAgIC5lbnRlcigpLmFwcGVuZCgnbGluZScpXG5cdCAgICAuZmlsdGVyKChkLGkpID0+IGklMTA9PT0wKVxuICBcdFx0XHQuYXR0cigneDEnLCAgKGQsIGkpID0+IHsgcmV0dXJuIDI4MCAqIGkrMTsgfSlcbiAgXHRcdFx0LmF0dHIoJ3kxJywgMjApXG4gIFx0XHRcdC5hdHRyKCd4MicsIChkLCBpKSA9PiB7IHJldHVybiAyODAgKiBpKzE7IH0pXG4gIFx0XHRcdC5hdHRyKCd5MicsNDApXG4gIFx0XHRcdC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcbiAgXHRcdFx0LnN0eWxlKCdzdHJva2Utd2lkdGgnLCcycHgnKTsgICAgICBcblxuICBcdC8vIFRleHQgXG4gIFx0Z3JwLnNlbGVjdEFsbCgndGV4dCcpXG5cdCAgICAuZGF0YSggKGQpID0+IGQpXG5cdCAgICAuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxuXHQgICAgLmZpbHRlcigoZCxpKSA9PiBpJTEwPT09MClcblx0ICAgIFx0LmF0dHIoJ3gnLCAoZCwgaSkgPT4geyByZXR1cm4gMjgwICogaSs1OyB9KVxuXHQgICAgXHQuYXR0cigneScsICczOCcpICBcblx0ICAgIFx0LmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKSBcblx0ICAgIFx0LnRleHQoIChkLCBpLGspID0+IGsqNDAraSoxMCsxKTsgXG59O1xuXG5cbi8vIGdldCB2YWx1ZXNcblxubGV0IGdldEJ1dHRvbklkcyA9ICgpID0+IFsnI2J0bi1yb3cxLTEnLCcjYnRuLXJvdzEtMicsJyNidG4tcm93MS0zJywnI2J0bi1yb3cxLTQnXTtcblxubGV0IHJlYWRJbnB1dCA9ICgpID0+IHtcblx0bGV0IGlkcyA9IGdldEJ1dHRvbklkcygpO1xuXHRsZXQgb3V0ID0gW107XG5cdGZvciAobGV0IGkgaW4gaWRzKSB7XG5cdFx0bGV0IHZhbCA9ICQoaWRzW2ldKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZHJlbignaW5wdXQnKVswXS52YWx1ZTtcblx0XHRvdXQucHVzaCh2YWwpO1xuXHR9XG5cdHJldHVybiBvdXQ7XG59O1xuXG5cblxuXG5cbi8vIFJlZHJhdyBHYW1lXG5cbmxldCByZWRyYXcgPSAoaW5wc3RyYXJyKSA9PiB7XG5cdGxldCBpbnAgPSBbXTtcblx0Ly8gcGFyc2UgaW5wdXRcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbnBzdHJhcnIubGVuZ3RoOyBpKyspe1xuXHRcdGlucC5wdXNoKHBhcnNlSW50KGlucHN0cmFycltpXSkpO1xuXHR9O1xuXG4gICAgLy8gaW5pdCB2YWx1ZXNcblx0bGV0IHQgPSAxLCAvLyBjb3V0IHZhbHVlXG5cdFx0Y29sID0gMCwgLy8gY3VycmVudCBjb2xvciBvZmZzZXRcblx0XHRkYXRhID0gW10sXG5cdFx0bmV4dEV2ZW50ID0gaW5wW2NvbF0sXG5cdFx0dG1wID0gMDtcblxuXHRmb3IgKGxldCBrID0gMDsgayA8IHJvd047IGsgKz0gMSkge1xuXHRcdGxldCByb3cgPSBbXTtcblx0XHRkYXRhLnB1c2gocm93KTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNvbE47IGkgKz0xKXtcblx0XHRcdGlmICh0ID09PSAgbmV4dEV2ZW50KXtcblx0XHRcdFx0Ly8ganVtcCBvdmVyIDAgY29sb3IgZW50cmllc1xuXHRcdFx0XHR3aGlsZSAoaW5wWyhjb2wrMSklaW5wLmxlbmd0aF0gPCAxKXtcblx0XHRcdFx0XHRjb2wgPSAoY29sKzEpJWlucC5sZW5ndGg7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV4dEV2ZW50ICs9IGlucFsoY29sKzEpJWlucC5sZW5ndGhdO1xuXHRcdFx0XHR0bXAgPSBjb2wrMTsgLy8gYmxhY2sgaGFzIGluZGV4IDBcblx0XHRcdFx0Y29sID0gKGNvbCsxKSVpbnAubGVuZ3RoOyAvLyBuZXh0IGNvbG9yXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSAwO1xuXHRcdFx0fVxuXHRcdFx0cm93LnB1c2goW3QsIHRtcF0pO1xuXHRcdFx0dCA9IHQgKyAxO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxuXG5sZXQgcmVnaXN0ZXJJbnB1dE9uQ2hhbmdlID0gKCkgPT4ge1xuXHRsZXQgaWRzID0gZ2V0QnV0dG9uSWRzKCk7XG5cdGZvciAobGV0IGkgaW4gaWRzKSB7XG5cdFx0JChpZHNbaV0pXG5cdFx0XHQucGFyZW50KClcblx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0LmNoaWxkcmVuKCdpbnB1dC5mb3JtLWNvbnRyb2wnKVxuXHRcdFx0LmNoYW5nZSgoKSA9PiB7XG5cdFx0XHRcdGxldCBuZXdkYXRhID0gcmVkcmF3KHJlYWRJbnB1dCgpKTtcblx0XHRcdFx0dXBkYXRlR3JhcGgobmV3ZGF0YSk7XG5cdFx0XHR9KTtcblx0fVxufTtcblxuLy8gTGlzdGVuIG9uIE1lbnUgZW50cnlcblx0bGV0IGlkQXJyID0gZ2V0QnV0dG9uSWRzKCk7XG5cdGxldCBlYyA9IGpRdWVyeS5FdmVudCggJ2NoYW5nZScgKTtcbiAgICBmb3IgKGxldCBpIGluIGlkQXJyKSB7XG4gICAgXHQkKGlkQXJyW2ldKVxuXHRcdFx0LnBhcmVudCgpXG5cdFx0XHQuY2hpbGRyZW4oJ3VsLmRyb3Bkb3duLW1lbnUnKVxuXHRcdFx0Lm9uKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdCQoaWRBcnJbaV0pXG5cdFx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0XHQucGFyZW50KClcblx0XHRcdFx0LmNoaWxkcmVuKCdpbnB1dC5mb3JtLWNvbnRyb2wnKVxuXHRcdFx0XHQuYXR0cigndmFsdWUnLGUudGFyZ2V0LnRleHQpXG5cdFx0XHRcdC8vc2VuZCBjaGFuZ2UgZXZlbnRcblx0XHRcdFx0LnRyaWdnZXIoZWMpO1xuXHRcdH0pO1x0XG4gICAgfVxuXG5cbi8vIEluaXQgRGlzcGxheSAgICBcblx0Ly8gRHJhdyBzbyBzdHVmZlxuXHQvLyBHbG9iYWwgc3R1ZmZcblx0bGV0IHdpZHRoID0gMTIzMCxcbiAgICBoZWlnaHQgPSA0MDAsXG4gICAgZGl2ID0gZDMuc2VsZWN0KCcjY2hhcnQnKSxcbiAgICBzdmcgPSBkaXYuYXBwZW5kKCdzdmcnKVxuICAgICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCksXG4gICAgcncgPSAyMCxcbiAgICByaCA9IDIwLFxuICAgIHJvd04gPSA0LFxuICAgIGNvbE4gPTQwLFxuICAgIGxvb2t1cCA9IFsnYmxhY2snLCcjMjk2RUFBJywnI0Q0M0YzQScsJyM1Q0I4NUMnLCcjNDZCMENGJ10sXG4gICAgcnJhbmdlID0gbG9va3VwLmxlbmd0aDtcbiAgICAvL2RhdGEgPSBpbml0RGF0YVNldCgpO1xuICAgIC8vcmVuZGVyR3JhcGgoZGF0YSk7XG5cbi8vIFJlYWN0IG9uIENoYW5nZXMgb2YgdGhlIGlucHV0IGZpZWxkc1xuXG5yZWdpc3RlcklucHV0T25DaGFuZ2UoKTtcbmxldCBteWRhdGEgPSByZWRyYXcocmVhZElucHV0KCkpO1xucmVuZGVyR3JhcGgobXlkYXRhKTtcbmFsZXJ0KFwid2FydCBtYWxcIik7XG59KTtcblxuXG5cbiJdfQ==
